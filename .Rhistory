mydata1 <- read_csv(url("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-01-29/state_milk_production.csv"))
library(tidyverse)
mydata1 <- read_csv(url("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-01-29/state_milk_production.csv"))
mydata2 <- read_csv(url("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-01-29/milk_products_facts.csv")) %>%
pivot_longer(cols = fluid_milk:dry_whey,
names_to = "Product_Type",
values_to = "Consumption")
mydata3 <- read_csv(url("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-01-29/fluid_milk_sales.csv"))
View(mydata3)
View(mydata1)
ggplot(mydata1, aes(year,
milk_produced/1000000,
facet_wrap(~state))) +
geom_col() +
theme_bw(base_size = 14) +
labs(x = "Year", y = "Milk Production (million lbs)") +
scale_x_continuous(
breaks = seq(min(production_plot$year),
max(production_plot$year), by=1)) +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplot(mydata1, aes(year,
milk_produced/1000000,
facet_wrap(~state))) +
geom_col() +
theme_bw(base_size = 14) +
labs(x = "Year", y = "Milk Production (million lbs)") +
scale_x_continuous(
breaks = seq(min(mydata1$year),
max(mydata1$year), by=1)) +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
p <- ggplot(mydata1, aes(year,
milk_produced/1000000)) +
geom_col() +
facet_wrap(~state) +
theme_bw(base_size = 14) +
labs(x = "Year", y = "Milk Production (million lbs)") +
scale_x_continuous(
breaks = seq(min(mydata1$year),
max(mydata1$year), by=1)) +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
library(tidyverse)
library(plotly)
p1 <- ggplot(mydata1, aes(year,
milk_produced/1000000)) +
geom_col() +
facet_wrap(~state) +
theme_bw(base_size = 14) +
labs(x = "Year", y = "Milk Production (million lbs)") +
scale_x_continuous(
breaks = seq(min(mydata1$year),
max(mydata1$year), by=1)) +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
analysis1 <- mydata1 %>%
group_by(state) %>%
summarise(Mean_Production = mean(milk_produced))
View(analysis1)
analysis1 <- mydata1 %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))
View(analysis1)
analysis1 <- mydata1 %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced)) %>%
arrange(desc(milk_produced)) %>%
head(10)
analysis1 <- mydata1 %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced)) %>%
arrange(desc(Mean_Production)) %>%
head(10)
View(analysis1)
analysis1 <- mydata1 %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced)) %>%
group_by(state) %>%
arrange(desc(Mean_Production)) %>%
head(10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/100000)) +
geom_col() +
facet
View(analysis1)
analysis1 <- mydata1 %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced)) %>%
group_by(state) %>%
arrange(desc(state)) %>%
head(10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/100000)) +
geom_col() +
facet
View(analysis1)
analysis1 <- mydata1 %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/100000)) +
geom_col() +
facet
View(analysis1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/100000)) +
geom_col() +
facet_wrap(~year)
View(analysis1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/1000000)) +
geom_col() +
facet_wrap(~year) +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
scale_x_continuous(
breaks = seq(min(production_plot$year),
max(production_plot$year), by=1)) +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/1000000)) +
geom_col() +
facet_wrap(~year) +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
scale_x_continuous(
breaks = seq(min(analysis1$year),
max(analysis1$year), by=1)) +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/1000000)) +
geom_col() +
facet_wrap(~year) +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/1000000)) +
geom_col() +
facet_wrap(~year, scales = "free") +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1)) +
ggplotly(p1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/1000000)) +
geom_col() +
facet_wrap(~year, scales = "free") +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(state,
Mean_Production/1000000)) +
geom_col() +
facet_grid(~year, scales = "free") +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(fct_reorder(state,Mean_Production),
Mean_Production/1000000)) +
geom_col() +
facet_grid(~year, scales = "free") +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
group_by(year, state) %>%
summarise(Mean_Production = mean(milk_produced))  %>%
arrange(desc(Mean_Production)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(fct_reorder(state, -Mean_Production),
Mean_Production/1000000)) +
geom_col() +
facet_grid(~year, scales = "free") +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
mydata4 <- left_join(mydata3, mydata1, by = "year")
View(mydata4)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
arrange(desc(milk_produced)) %>%
group_by(year) %>%
slice(1:10)
View(analysis1)
analysis1 <- mydata1 %>%
filter(year %in% c(2013:2017)) %>%
arrange(desc(milk_produced)) %>%
group_by(year) %>%
slice(1:10)
p1 <- ggplot(analysis1, aes(fct_reorder(state, -milk_produced),
milk_produced/1000000)) +
geom_col() +
facet_grid(~year, scales = "free") +
theme_bw(base_size = 14) +
labs(x = "State", y = "Milk Production (million lbs)") +
theme(
axis.text.x = element_text(angle = 90,
hjust = 1))
ggplotly(p1)
mydata4 <- left_join(mydata3, mydata1, by = "year") %>%
group_by(year) %>%
summarise(Total_Production = sum(milk_produced), Total_milk_sale = sum(pounds))
View(mydata4)
sum<- mydata1 %>%
group_by(year) %>%
summarise(sum <- sum(milk_produced))
View(sum)
sum<- mydata1 %>%
group_by(year) %>%
summarise(sum = sum(milk_produced))
View(sum)
mydata4 <- left_join(mydata3, mydata1, by = "year") %>%
group_by(year) %>%
summarise(Total_Production = sum(milk_produced), Total_milk_sale = sum(pounds))
mydata4 <- left_join(mydata3, mydata1, by = "year") %>%
group_by(year) %>%
summarise(Total_Production = sum(milk_produced), Total_milk_sale = sum(pounds))
mydata4 <- left_join(mydata3, mydata1, by = "year") %>%
group_by(year) %>%
summarise(Total_Production = sum(milk_produced), Total_milk_sale = sum(pounds))
mydata4 <- left_join(mydata3, mydata1, by = "year")
View(mydata4)
mydata4 <- full_join(mydata3, mydata1, by = "year")
s <- mydata1 %>%
filter(year %in% 1975)
mydata4 <- full_join(mydata3, mydata1, by = "year") %>%
group_by(year) %>%
summarise(Total_Production = sum(milk_produced), Total_milk_sale = sum(pounds))
View(mydata4)
mydata4 <- full_join(mydata3, mydata1, by = "year")
View(mydata4)
mydata3 %>%
summarise(sum = sum)
mydata3 %>% group_by(year) %>% summarise(sum = sum(pounds))
mydata4 <- full_join(mydata1, mydata3)
View(mydata4)
mydata4 <- mydata1 %>%
filter(year != c(1970:1974)) %>%
group_by(year) %>%
summarise(Total_milk_production = sum(milk_produced))
View(mydata4)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = sum(milk_produced))
View(mydata4)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = sum(milk_produced))
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = sum(pounds))
View(mydata5)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = sum(milk_produced))
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = sum(pounds))
analysis2 <- full_join(mydata4, mydata5, by = "year")
View(analysis2)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = sum(milk_produced))
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = sum(pounds))
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale )
View(analysis2)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = sum(milk_produced))
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = sum(pounds))
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
rename("Milk Production (million lbs)" = Total_milk_production/1000000,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale/1000000)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = sum(pounds))
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale)
View(analysis2)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale)
View(analysis2)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
summarise("Milk Percentage for other dairy products" = (Total)
rename("Milk Production (million lbs)" = Total_milk_production,
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
summarise("Milk Percentage for other dairy products" = (Total_milk_production - Total_fluidmilk_sale)/Total_milk_production)
rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale)
View(analysis2)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
mutate("Milk Percentage for other dairy products" = (Total_milk_production - Total_fluidmilk_sale)/Total_milk_production)
rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale)
View(analysis2)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
mutate("Milk Percentage for other dairy products" = ((Total_milk_production - Total_fluidmilk_sale)/Total_milk_production)*100) %>%                   rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale)
View(analysis2)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
mutate("Milk Percentage for other dairy products" = ((Total_milk_production - Total_fluidmilk_sale)/Total_milk_production)*100) %>%                   rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale) %>%
kable(align = "c") %>%
kable_styling(full_width = F,
bootstrap_options = c("striped", "condensed", "bordered"))
library(tidyverse)
library(plotly)
library(kableExtra)
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
mutate("Milk Percentage for other dairy products" = ((Total_milk_production - Total_fluidmilk_sale)/Total_milk_production)*100) %>%                   rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale) %>%
kable(align = "c") %>%
kable_styling(full_width = F,
bootstrap_options = c("striped", "condensed", "bordered"))
mydata4 <- mydata1 %>%
filter(year %in% c(1975:2017)) %>%
group_by(year) %>%
summarise(Total_milk_production = (sum(milk_produced))/1000000)
mydata5 <- mydata3 %>%
group_by(year) %>%
summarise(Total_fluidmilk_sale = (sum(pounds))/1000000)
analysis2 <- full_join(mydata4, mydata5, by = "year") %>%
mutate("Milk Percentage for other dairy products" = ((Total_milk_production - Total_fluidmilk_sale)/Total_milk_production)*100) %>%                   rename("Milk Production (million lbs)" = Total_milk_production,
"Fluid Milk Sale/Consumption (million lbs)" = Total_fluidmilk_sale) %>%
kable(align = "c") %>%
kable_styling(full_width = F,
bootstrap_options = c("striped", "condensed", "bordered"))
analysis2
